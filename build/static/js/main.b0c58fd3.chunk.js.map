{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Filter","props","value","onChange","PersonForm","onSubmit","addPerson","valueName","onChangeName","valueNumber","onChangeNumber","type","Persons","filter","persons","deletePerson","person","name","toLowerCase","includes","map","key","number","onClick","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","notification","setNotification","useEffect","personService","initialPersons","event","target","preventDefault","personObject","find","undefined","window","confirm","returnedPerson","p","setTimeout","catch","error","personCreated","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b0c58fd3.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deletePerson };","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input \r\n                                value = {props.value}\r\n                                onChange = {props.onChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.addPerson}>\r\n            <div>\r\n                name: <input\r\n                        value = {props.valueName}\r\n                        onChange = {props.onChangeName} />\r\n            </div>\r\n            <div>\r\n                number: <input\r\n                            value = {props.valueNumber}\r\n                            onChange = {props.onChangeNumber} /> \r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({filter, persons, deletePerson}) => {\r\n    const personsToShow = filter === \"\" \r\n        ? persons \r\n        : persons.filter(person => person.name.toLowerCase().includes(filter))\r\n\r\n    return (\r\n        personsToShow.map(person =>\r\n            <li key={person.name}>\r\n                {person.name} {person.number}\r\n                &emsp;\r\n                <button onClick={() => deletePerson(person.id)}>Delete contact</button>\r\n            </li>\r\n        )\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message, color }) => {\r\n    const style = {\r\n        color: color,\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 3,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <div style={style}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n    const [ persons, setPersons] = useState([]) \n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ filter, setFilter ] = useState('')\n    const [ notification, setNotification ] = useState([null, ''])\n\n    useEffect(() => {\n        personService\n            .getAll()\n            .then(initialPersons => {\n                setPersons(initialPersons)\n            })\n    }, [])\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        const personObject = {\n            name : newName,\n            number : newNumber\n        }\n        const person = persons.find(person => person.name === newName)\n        if (person !== undefined){\n            if (window.confirm(`${person.name} is already added to the phonebook,\n                replace the old number with a new one?`)) {\n                personService\n                    .update(person.id, personObject)\n                    .then(returnedPerson => {\n                        setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\n                        setNotification(`${returnedPerson.name}'s number updated`, 'green')\n                        setTimeout(() => {\n                            setNotification([null, ''])\n                        }, 3000)\n                    })\n                    .catch(error => {\n                        setNotification([`the person '${person.name}' was already deleted from the server`, \n                                        'red'])\n                            setTimeout(() => {\n                                setNotification([null, ''])\n                            }, 3000)\n                        setPersons(persons.filter(p => p.id !== person.id))\n                    })\n            }\n        } else {\n            personService\n                .create(personObject)\n                .then(personCreated => {\n                    setPersons(persons.concat(personCreated))\n                    setNotification([`Added ${personCreated.name}`, 'green'])\n                        setTimeout(() => {\n                            setNotification([null, ''])\n                        }, 3000)\n                })\n        }\n        setNewName('')\n        setNewNumber('')\n    }\n    \n    const deletePerson = (id) => {\n        const person = persons.find(p => p.id === id)\n        if (window.confirm(`Delete ${person.name}?`)) {\n            personService\n                .deletePerson(id)\n                .then(() => {\n                    setPersons(persons.filter(p => p.id !== id))\n                    setNotification([`Deleted ${person.name}`, 'green'])\n                        setTimeout(() => {\n                            setNotification([null, ''])\n                        }, 3000)\n                })\n                .catch(error => {\n                    setNotification([`the person '${person.name}' was already deleted from the server`, \n                                    'red'])\n                        setTimeout(() => {\n                            setNotification([null, ''])\n                        }, 3000)\n                    setPersons(persons.filter(p => p.id !== id))\n                })\n        }\n    }\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n    \n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const handleFilterChange = (event) => {\n        setFilter(event.target.value) \n    }\n    \n    return (\n        <div>\n        <h2>Phonebook</h2>\n        <Notification message={notification[0]} color={notification[1]} />\n        <Filter value={filter} onChange={handleFilterChange} />\n        <h2>Add a new</h2>\n        <PersonForm\n            addPerson={addPerson}\n            valueName={newName} onChangeName={handleNameChange}\n            valueNumber={newNumber} onChangeNumber={handleNumberChange} />\n        <h2>Numbers</h2>\n        <Persons filter={filter} persons={persons} deletePerson={deletePerson}/>\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}